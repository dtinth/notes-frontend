{
  "compiled": {
    "html": "<!--[--><p data-v-8c9498c0><strong data-v-8c9498c0>How about some interactivity inside a <a href=\"AboutNotes\" data-v-8c9498c0>note</a>?</strong></p><p data-v-8c9498c0><button disabled data-v-8c9498c0>0</button></p><p data-v-8c9498c0>...and here&#39;s the code that implements the above button:</p><pre class=\"shiki vitesse-dark\" style=\"background-color:#121212;color:#dbd7caee;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#666666;\" data-v-8c9498c0>&lt;</span><span style=\"color:#4D9375;\" data-v-8c9498c0>p</span><span style=\"color:#666666;\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#666666;\" data-v-8c9498c0>  &lt;</span><span style=\"color:#4D9375;\" data-v-8c9498c0>button</span><span style=\"color:#BD976A;\" data-v-8c9498c0> @click</span><span style=\"color:#666666;\" data-v-8c9498c0>=</span><span style=\"color:#C98A7D77;\" data-v-8c9498c0>&quot;</span><span style=\"color:#C98A7D;\" data-v-8c9498c0>count++</span><span style=\"color:#C98A7D77;\" data-v-8c9498c0>&quot;</span><span style=\"color:#BD976A;\" data-v-8c9498c0> :disabled</span><span style=\"color:#666666;\" data-v-8c9498c0>=</span><span style=\"color:#C98A7D77;\" data-v-8c9498c0>&quot;</span><span style=\"color:#C98A7D;\" data-v-8c9498c0>!mounted</span><span style=\"color:#C98A7D77;\" data-v-8c9498c0>&quot;</span><span style=\"color:#666666;\" data-v-8c9498c0>&gt;</span><span style=\"color:#DBD7CAEE;\" data-v-8c9498c0>0</span><span style=\"color:#666666;\" data-v-8c9498c0>&lt;/</span><span style=\"color:#4D9375;\" data-v-8c9498c0>button</span><span style=\"color:#666666;\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#666666;\" data-v-8c9498c0>&lt;/</span><span style=\"color:#4D9375;\" data-v-8c9498c0>p</span><span style=\"color:#666666;\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#666666;\" data-v-8c9498c0>&lt;</span><span style=\"color:#4D9375;\" data-v-8c9498c0>script</span><span style=\"color:#666666;\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#4D9375;\" data-v-8c9498c0>  export</span><span style=\"color:#4D9375;\" data-v-8c9498c0> default</span><span style=\"color:#666666;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#80A665;\" data-v-8c9498c0>    setup</span><span style=\"color:#666666;\" data-v-8c9498c0>()</span><span style=\"color:#666666;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#CB7676;\" data-v-8c9498c0>      const</span><span style=\"color:#BD976A;\" data-v-8c9498c0> count</span><span style=\"color:#666666;\" data-v-8c9498c0> =</span><span style=\"color:#BD976A;\" data-v-8c9498c0> Vue</span><span style=\"color:#666666;\" data-v-8c9498c0>.</span><span style=\"color:#80A665;\" data-v-8c9498c0>ref</span><span style=\"color:#666666;\" data-v-8c9498c0>(</span><span style=\"color:#4C9A91;\" data-v-8c9498c0>0</span><span style=\"color:#666666;\" data-v-8c9498c0>);</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#CB7676;\" data-v-8c9498c0>      const</span><span style=\"color:#BD976A;\" data-v-8c9498c0> mounted</span><span style=\"color:#666666;\" data-v-8c9498c0> =</span><span style=\"color:#BD976A;\" data-v-8c9498c0> Vue</span><span style=\"color:#666666;\" data-v-8c9498c0>.</span><span style=\"color:#80A665;\" data-v-8c9498c0>ref</span><span style=\"color:#666666;\" data-v-8c9498c0>(</span><span style=\"color:#4D9375;\" data-v-8c9498c0>false</span><span style=\"color:#666666;\" data-v-8c9498c0>);</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#BD976A;\" data-v-8c9498c0>      Vue</span><span style=\"color:#666666;\" data-v-8c9498c0>.</span><span style=\"color:#80A665;\" data-v-8c9498c0>onMounted</span><span style=\"color:#666666;\" data-v-8c9498c0>(()</span><span style=\"color:#666666;\" data-v-8c9498c0> =&gt;</span><span style=\"color:#666666;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#BD976A;\" data-v-8c9498c0>        mounted</span><span style=\"color:#666666;\" data-v-8c9498c0>.</span><span style=\"color:#BD976A;\" data-v-8c9498c0>value</span><span style=\"color:#666666;\" data-v-8c9498c0> =</span><span style=\"color:#4D9375;\" data-v-8c9498c0> true</span><span style=\"color:#666666;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#666666;\" data-v-8c9498c0>      });</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#4D9375;\" data-v-8c9498c0>      return</span><span style=\"color:#666666;\" data-v-8c9498c0> {</span><span style=\"color:#B8A965;\" data-v-8c9498c0> hello</span><span style=\"color:#666666;\" data-v-8c9498c0>:</span><span style=\"color:#C98A7D77;\" data-v-8c9498c0> &quot;</span><span style=\"color:#C98A7D;\" data-v-8c9498c0>Hello, World</span><span style=\"color:#C98A7D77;\" data-v-8c9498c0>&quot;</span><span style=\"color:#666666;\" data-v-8c9498c0>,</span><span style=\"color:#BD976A;\" data-v-8c9498c0> count</span><span style=\"color:#666666;\" data-v-8c9498c0>,</span><span style=\"color:#BD976A;\" data-v-8c9498c0> mounted</span><span style=\"color:#666666;\" data-v-8c9498c0> };</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#666666;\" data-v-8c9498c0>    },</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#666666;\" data-v-8c9498c0>  };</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#666666;\" data-v-8c9498c0>&lt;/</span><span style=\"color:#4D9375;\" data-v-8c9498c0>script</span><span style=\"color:#666666;\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0></span></code></pre><p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0>The server-side code first converts Markdown to HTML using <a href=\"https://www.npmjs.com/package/@vuepress/markdown\" data-v-8c9498c0><code data-v-8c9498c0>@vuepress/markdown</code></a>. It automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags.</li><li data-v-8c9498c0>The HTML is then parsed as a Vue template and compiled into <a href=\"https://v2.vuejs.org/v2/guide/render-function.html\" data-v-8c9498c0>render functions</a> using <a href=\"https://www.npmjs.com/package/vue-template-compiler\" data-v-8c9498c0><code data-v-8c9498c0>vue-template-compiler</code></a> as JavaScript source code.</li><li data-v-8c9498c0>The <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled using <a href=\"https://esbuild.github.io/\" data-v-8c9498c0>esbuild</a> into a JavaScript source code.</li><li data-v-8c9498c0>The resulting source codes are then used to assemble a Vue component. This happens both on the client and on the server. The server then renders a static HTML version of the component, and the client then hydrates it.</li></ul><figure slot=\"right\" data-v-8c9498c0><p data-v-8c9498c0><img src=\"https://static.dt.in.th/uploads/2022/07/24/vuecomp2.webp\" alt=\"\" data-v-8c9498c0></p><figcaption data-v-8c9498c0>The compilation process</figcaption></figure><hr data-v-8c9498c0><details data-v-8c9498c0><summary data-v-8c9498c0>Archive â€” How it works in the previous version of notes.dt.in.th (Nuxt-based)</summary><p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the contents API,</strong> when the Markdown file is parsed, <code data-v-8c9498c0>@vuepress/markdown</code> automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags. I assume that there will be only one <code data-v-8c9498c0>&lt;script&gt;</code> tag. If one is found, then the contents of the <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled down to ES6 + CommonJS using <a href=\"https://esbuild.github.io/\" data-v-8c9498c0>esbuild</a>. This compiled JavaScript is then returned over the wire.</p></li><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the Nuxt app,</strong> if a component module is included in the response, Nuxt will compile that code as part of the Vue component, on-the-fly, at runtime.</p></li></ul><p data-v-8c9498c0>This results in the following markup:</p><p data-v-8c9498c0><img src=\"https://static.dt.in.th/uploads/2020/12/11/journal-script-ssr.png\" alt=\"\" data-v-8c9498c0></p><p data-v-8c9498c0>For full changes, see the <a href=\"https://github.com/dtinth/notes.dt.in.th/pull/1/files\" data-v-8c9498c0>pull request</a>.</p></details><!--]-->",
    "css": "/* layer: default */\n.static[data-v-8c9498c0]{position:static;}\n.contents[data-v-8c9498c0]{display:contents;}",
    "js": "/* Analyzed bindings: {\n  \"hello\": \"setup-maybe-ref\",\n  \"count\": \"setup-maybe-ref\",\n  \"mounted\": \"setup-maybe-ref\"\n} */ \"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nconst _vue = require(\"vue\");\nconst __sfc__ = {\n    setup () {\n        const count = Vue.ref(0);\n        const mounted = Vue.ref(false);\n        Vue.onMounted(()=>{\n            mounted.value = true;\n        });\n        return {\n            hello: 'Hello, World',\n            count,\n            mounted\n        };\n    }\n};\nconst _withScopeId = (n)=>((0, _vue.pushScopeId)(\"data-v-8c9498c0\"), n = n(), (0, _vue.popScopeId)(), n);\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"p\", null, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"strong\", null, [\n            /*#__PURE__*/ (0, _vue.createTextVNode)(\"How about some interactivity inside a \"),\n            /*#__PURE__*/ (0, _vue.createElementVNode)(\"a\", {\n                href: \"AboutNotes\"\n            }, \"note\"),\n            /*#__PURE__*/ (0, _vue.createTextVNode)(\"?\")\n        ])\n    ], -1 /* HOISTED */ ));\nconst _hoisted_2 = [\n    \"disabled\"\n];\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"p\", null, \"...and here's the code that implements the above button:\", -1 /* HOISTED */ ));\nconst _hoisted_4 = {\n    class: \"shiki vitesse-dark\",\n    style: {\n        \"background-color\": \"#121212\",\n        \"color\": \"#dbd7caee\"\n    },\n    tabindex: \"0\"\n};\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \"<\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#4D9375\"\n            }\n        }, \"p\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \">\")\n    ], -1 /* HOISTED */ ));\nconst _hoisted_6 = {\n    class: \"line\"\n};\nconst _hoisted_7 = /*#__PURE__*/ (0, _vue.createStaticVNode)(\"<span style=\\\"color:#666666;\\\" data-v-8c9498c0>  &lt;</span><span style=\\\"color:#4D9375;\\\" data-v-8c9498c0>button</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> @click</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>=</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#C98A7D;\\\" data-v-8c9498c0>count++</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> :disabled</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>=</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#C98A7D;\\\" data-v-8c9498c0>!mounted</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>&gt;</span>\", 13);\nconst _hoisted_20 = {\n    style: {\n        \"color\": \"#DBD7CAEE\"\n    }\n};\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        style: {\n            \"color\": \"#666666\"\n        }\n    }, \"</\", -1 /* HOISTED */ ));\nconst _hoisted_22 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        style: {\n            \"color\": \"#4D9375\"\n        }\n    }, \"button\", -1 /* HOISTED */ ));\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        style: {\n            \"color\": \"#666666\"\n        }\n    }, \">\", -1 /* HOISTED */ ));\nconst _hoisted_24 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \"</\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#4D9375\"\n            }\n        }, \"p\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \">\")\n    ], -1 /* HOISTED */ ));\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, null, -1 /* HOISTED */ ));\nconst _hoisted_26 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \"<\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#4D9375\"\n            }\n        }, \"script\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \">\")\n    ], -1 /* HOISTED */ ));\nconst _hoisted_27 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#4D9375\"\n            }\n        }, \"  export\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#4D9375\"\n            }\n        }, \" default\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \" {\")\n    ], -1 /* HOISTED */ ));\nconst _hoisted_28 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#80A665\"\n            }\n        }, \"    setup\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \"()\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \" {\")\n    ], -1 /* HOISTED */ ));\nconst _hoisted_29 = /*#__PURE__*/ (0, _vue.createStaticVNode)(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#CB7676;\\\" data-v-8c9498c0>      const</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> count</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> =</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> Vue</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>.</span><span style=\\\"color:#80A665;\\\" data-v-8c9498c0>ref</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>(</span><span style=\\\"color:#4C9A91;\\\" data-v-8c9498c0>0</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>);</span></span>\", 1);\nconst _hoisted_30 = /*#__PURE__*/ (0, _vue.createStaticVNode)(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#CB7676;\\\" data-v-8c9498c0>      const</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> mounted</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> =</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> Vue</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>.</span><span style=\\\"color:#80A665;\\\" data-v-8c9498c0>ref</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>(</span><span style=\\\"color:#4D9375;\\\" data-v-8c9498c0>false</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>);</span></span>\", 1);\nconst _hoisted_31 = /*#__PURE__*/ (0, _vue.createStaticVNode)(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0>      Vue</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>.</span><span style=\\\"color:#80A665;\\\" data-v-8c9498c0>onMounted</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>(()</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> =&gt;</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> {</span></span>\", 1);\nconst _hoisted_32 = /*#__PURE__*/ (0, _vue.createStaticVNode)(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0>        mounted</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>.</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0>value</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> =</span><span style=\\\"color:#4D9375;\\\" data-v-8c9498c0> true</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>;</span></span>\", 1);\nconst _hoisted_33 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \"      });\")\n    ], -1 /* HOISTED */ ));\nconst _hoisted_34 = /*#__PURE__*/ (0, _vue.createStaticVNode)(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#4D9375;\\\" data-v-8c9498c0>      return</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> {</span><span style=\\\"color:#B8A965;\\\" data-v-8c9498c0> hello</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>:</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0> &quot;</span><span style=\\\"color:#C98A7D;\\\" data-v-8c9498c0>Hello, World</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>,</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> count</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>,</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> mounted</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> };</span></span>\", 1);\nconst _hoisted_35 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \"    },\")\n    ], -1 /* HOISTED */ ));\nconst _hoisted_36 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \"  };\")\n    ], -1 /* HOISTED */ ));\nconst _hoisted_37 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, [\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \"</\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#4D9375\"\n            }\n        }, \"script\"),\n        /*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n            style: {\n                \"color\": \"#666666\"\n            }\n        }, \">\")\n    ], -1 /* HOISTED */ ));\nconst _hoisted_38 = /*#__PURE__*/ _withScopeId(()=>/*#__PURE__*/ (0, _vue.createElementVNode)(\"span\", {\n        class: \"line\"\n    }, null, -1 /* HOISTED */ ));\nconst _hoisted_39 = /*#__PURE__*/ (0, _vue.createStaticVNode)(\"<p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0>The server-side code first converts Markdown to HTML using <a href=\\\"https://www.npmjs.com/package/@vuepress/markdown\\\" data-v-8c9498c0><code data-v-8c9498c0>@vuepress/markdown</code></a>. It automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags.</li><li data-v-8c9498c0>The HTML is then parsed as a Vue template and compiled into <a href=\\\"https://v2.vuejs.org/v2/guide/render-function.html\\\" data-v-8c9498c0>render functions</a> using <a href=\\\"https://www.npmjs.com/package/vue-template-compiler\\\" data-v-8c9498c0><code data-v-8c9498c0>vue-template-compiler</code></a> as JavaScript source code.</li><li data-v-8c9498c0>The <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled using <a href=\\\"https://esbuild.github.io/\\\" data-v-8c9498c0>esbuild</a> into a JavaScript source code.</li><li data-v-8c9498c0>The resulting source codes are then used to assemble a Vue component. This happens both on the client and on the server. The server then renders a static HTML version of the component, and the client then hydrates it.</li></ul><figure slot=\\\"right\\\" data-v-8c9498c0><p data-v-8c9498c0><img src=\\\"https://static.dt.in.th/uploads/2022/07/24/vuecomp2.webp\\\" alt=\\\"\\\" data-v-8c9498c0></p><figcaption data-v-8c9498c0>The compilation process</figcaption></figure><hr data-v-8c9498c0><details data-v-8c9498c0><summary data-v-8c9498c0>Archive â€” How it works in the previous version of notes.dt.in.th (Nuxt-based)</summary><p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the contents API,</strong> when the Markdown file is parsed, <code data-v-8c9498c0>@vuepress/markdown</code> automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags. I assume that there will be only one <code data-v-8c9498c0>&lt;script&gt;</code> tag. If one is found, then the contents of the <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled down to ES6 + CommonJS using <a href=\\\"https://esbuild.github.io/\\\" data-v-8c9498c0>esbuild</a>. This compiled JavaScript is then returned over the wire.</p></li><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the Nuxt app,</strong> if a component module is included in the response, Nuxt will compile that code as part of the Vue component, on-the-fly, at runtime.</p></li></ul><p data-v-8c9498c0>This results in the following markup:</p><p data-v-8c9498c0><img src=\\\"https://static.dt.in.th/uploads/2020/12/11/journal-script-ssr.png\\\" alt=\\\"\\\" data-v-8c9498c0></p><p data-v-8c9498c0>For full changes, see the <a href=\\\"https://github.com/dtinth/notes.dt.in.th/pull/1/files\\\" data-v-8c9498c0>pull request</a>.</p></details>\", 5);\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n    return (0, _vue.openBlock)(), (0, _vue.createElementBlock)(_vue.Fragment, null, [\n        _hoisted_1,\n        (0, _vue.createElementVNode)(\"p\", null, [\n            (0, _vue.createElementVNode)(\"button\", {\n                onClick: _cache[0] || (_cache[0] = ($event)=>$setup.count++),\n                disabled: !$setup.mounted\n            }, (0, _vue.toDisplayString)($setup.count), 9 /* TEXT, PROPS */ , _hoisted_2)\n        ]),\n        _hoisted_3,\n        (0, _vue.createElementVNode)(\"pre\", _hoisted_4, [\n            (0, _vue.createElementVNode)(\"code\", null, [\n                _hoisted_5,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                (0, _vue.createElementVNode)(\"span\", _hoisted_6, [\n                    _hoisted_7,\n                    (0, _vue.createElementVNode)(\"span\", _hoisted_20, (0, _vue.toDisplayString)($setup.count), 1 /* TEXT */ ),\n                    _hoisted_21,\n                    _hoisted_22,\n                    _hoisted_23\n                ]),\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_24,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_25,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_26,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_27,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_28,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_29,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_30,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_31,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_32,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_33,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_34,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_35,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_36,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_37,\n                (0, _vue.createTextVNode)(\"\\n\"),\n                _hoisted_38\n            ])\n        ]),\n        _hoisted_39\n    ], 64 /* STABLE_FRAGMENT */ );\n}\n__sfc__.render = render;\n__sfc__.__scopeId = \"data-v-8c9498c0\";\n__sfc__.__file = \"Note.vue\";\nconst _default = __sfc__;\n"
  },
  "frontMatter": {
    "public": true,
    "title": "Adding some interactivity to my notes",
    "aliases": [
      "20201211T195900Z2817"
    ]
  },
  "errors": [],
  "debuggingInfo": {
    "vueTemplate": "<script>\nexport default {\n  setup() {\n    const count = Vue.ref(0)\n    const mounted = Vue.ref(false)\n    Vue.onMounted(() => {\n      mounted.value = true\n    })\n    return { hello: 'Hello, World', count, mounted }\n  }\n}\n</script><template><p><strong>How about some interactivity inside a <a href=\"AboutNotes\">note</a>?</strong></p>\n<p>\n  <button @click=\"count++\" :disabled=\"!mounted\">{{count}}</button>\n</p>\n\n<p>...and here's the code that implements the above button:</p>\n<pre class=\"shiki vitesse-dark\" style=\"background-color:#121212;color:#dbd7caee\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#666666\">&#x3C;</span><span style=\"color:#4D9375\">p</span><span style=\"color:#666666\">></span></span>\n<span class=\"line\"><span style=\"color:#666666\">  &#x3C;</span><span style=\"color:#4D9375\">button</span><span style=\"color:#BD976A\"> @click</span><span style=\"color:#666666\">=</span><span style=\"color:#C98A7D77\">\"</span><span style=\"color:#C98A7D\">count++</span><span style=\"color:#C98A7D77\">\"</span><span style=\"color:#BD976A\"> :disabled</span><span style=\"color:#666666\">=</span><span style=\"color:#C98A7D77\">\"</span><span style=\"color:#C98A7D\">!mounted</span><span style=\"color:#C98A7D77\">\"</span><span style=\"color:#666666\">></span><span style=\"color:#DBD7CAEE\">{{count}}</span><span style=\"color:#666666\">&#x3C;/</span><span style=\"color:#4D9375\">button</span><span style=\"color:#666666\">></span></span>\n<span class=\"line\"><span style=\"color:#666666\">&#x3C;/</span><span style=\"color:#4D9375\">p</span><span style=\"color:#666666\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#666666\">&#x3C;</span><span style=\"color:#4D9375\">script</span><span style=\"color:#666666\">></span></span>\n<span class=\"line\"><span style=\"color:#4D9375\">  export</span><span style=\"color:#4D9375\"> default</span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#80A665\">    setup</span><span style=\"color:#666666\">()</span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#CB7676\">      const</span><span style=\"color:#BD976A\"> count</span><span style=\"color:#666666\"> =</span><span style=\"color:#BD976A\"> Vue</span><span style=\"color:#666666\">.</span><span style=\"color:#80A665\">ref</span><span style=\"color:#666666\">(</span><span style=\"color:#4C9A91\">0</span><span style=\"color:#666666\">);</span></span>\n<span class=\"line\"><span style=\"color:#CB7676\">      const</span><span style=\"color:#BD976A\"> mounted</span><span style=\"color:#666666\"> =</span><span style=\"color:#BD976A\"> Vue</span><span style=\"color:#666666\">.</span><span style=\"color:#80A665\">ref</span><span style=\"color:#666666\">(</span><span style=\"color:#4D9375\">false</span><span style=\"color:#666666\">);</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">      Vue</span><span style=\"color:#666666\">.</span><span style=\"color:#80A665\">onMounted</span><span style=\"color:#666666\">(()</span><span style=\"color:#666666\"> =></span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">        mounted</span><span style=\"color:#666666\">.</span><span style=\"color:#BD976A\">value</span><span style=\"color:#666666\"> =</span><span style=\"color:#4D9375\"> true</span><span style=\"color:#666666\">;</span></span>\n<span class=\"line\"><span style=\"color:#666666\">      });</span></span>\n<span class=\"line\"><span style=\"color:#4D9375\">      return</span><span style=\"color:#666666\"> {</span><span style=\"color:#B8A965\"> hello</span><span style=\"color:#666666\">:</span><span style=\"color:#C98A7D77\"> \"</span><span style=\"color:#C98A7D\">Hello, World</span><span style=\"color:#C98A7D77\">\"</span><span style=\"color:#666666\">,</span><span style=\"color:#BD976A\"> count</span><span style=\"color:#666666\">,</span><span style=\"color:#BD976A\"> mounted</span><span style=\"color:#666666\"> };</span></span>\n<span class=\"line\"><span style=\"color:#666666\">    },</span></span>\n<span class=\"line\"><span style=\"color:#666666\">  };</span></span>\n<span class=\"line\"><span style=\"color:#666666\">&#x3C;/</span><span style=\"color:#4D9375\">script</span><span style=\"color:#666666\">></span></span>\n<span class=\"line\"></span></code></pre>\n<p>Here's how it works:</p>\n<ul>\n<li>The server-side code first converts Markdown to HTML using <a href=\"https://www.npmjs.com/package/@vuepress/markdown\"><code>@vuepress/markdown</code></a>. It automatically extracts out the <code>&#x3C;script></code> and <code>&#x3C;style></code> tags.</li>\n<li>The HTML is then parsed as a Vue template and compiled into <a href=\"https://v2.vuejs.org/v2/guide/render-function.html\">render functions</a> using <a href=\"https://www.npmjs.com/package/vue-template-compiler\"><code>vue-template-compiler</code></a> as JavaScript source code.</li>\n<li>The <code>&#x3C;script></code> tag is compiled using <a href=\"https://esbuild.github.io/\">esbuild</a> into a JavaScript source code.</li>\n<li>The resulting source codes are then used to assemble a Vue component. This happens both on the client and on the server. The server then renders a static HTML version of the component, and the client then hydrates it.</li>\n</ul>\n<figure slot=\"right\">\n<p><img src=\"https://static.dt.in.th/uploads/2022/07/24/vuecomp2.webp\" alt=\"\"></p>\n<figcaption>The compilation process</figcaption>\n</figure>\n<hr>\n<details><summary>Archive â€” How it works in the previous version of notes.dt.in.th (Nuxt-based)</summary>\n<p>Here's how it works:</p>\n<ul>\n<li>\n<p><strong>In the contents API,</strong>\nwhen the Markdown file is parsed, <code>@vuepress/markdown</code> automatically extracts out the <code>&#x3C;script></code> and <code>&#x3C;style></code> tags.\nI assume that there will be only one <code>&#x3C;script></code> tag.\nIf one is found, then the contents of the <code>&#x3C;script></code> tag is compiled down to ES6 + CommonJS using <a href=\"https://esbuild.github.io/\">esbuild</a>.\nThis compiled JavaScript is then returned over the wire.</p>\n</li>\n<li>\n<p><strong>In the Nuxt app,</strong>\nif a component module is included in the response,\nNuxt will compile that code as part of the Vue component, on-the-fly, at runtime.</p>\n</li>\n</ul>\n<p>This results in the following markup:</p>\n<p><img src=\"https://static.dt.in.th/uploads/2020/12/11/journal-script-ssr.png\" alt=\"\"></p>\n<p>For full changes, see the <a href=\"https://github.com/dtinth/notes.dt.in.th/pull/1/files\">pull request</a>.</p>\n</details>\n</template>\n<style scoped>/* layer: default */\n.static{position:static;}\n.contents{display:contents;}</style>",
    "ssrEsm": "/* Analyzed bindings: {\n  \"hello\": \"setup-maybe-ref\",\n  \"count\": \"setup-maybe-ref\",\n  \"mounted\": \"setup-maybe-ref\"\n} */\n\nconst __sfc__ = {\n  setup() {\n    const count = Vue.ref(0)\n    const mounted = Vue.ref(false)\n    Vue.onMounted(() => {\n      mounted.value = true\n    })\n    return { hello: 'Hello, World', count, mounted }\n  }\n}\n;\nimport { ssrIncludeBooleanAttr as _ssrIncludeBooleanAttr, ssrRenderStyle as _ssrRenderStyle, ssrInterpolate as _ssrInterpolate } from \"vue/server-renderer\"\nfunction ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {\n  _push(`<!--[--><p data-v-8c9498c0><strong data-v-8c9498c0>How about some interactivity inside a <a href=\"AboutNotes\" data-v-8c9498c0>note</a>?</strong></p><p data-v-8c9498c0><button${\n    (_ssrIncludeBooleanAttr(!$setup.mounted)) ? \" disabled\" : \"\"\n  } data-v-8c9498c0>${\n    _ssrInterpolate($setup.count)\n  }</button></p><p data-v-8c9498c0>...and here&#39;s the code that implements the above button:</p><pre class=\"shiki vitesse-dark\" style=\"${\n    _ssrRenderStyle({\"background-color\":\"#121212\",\"color\":\"#dbd7caee\"})\n  }\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&lt;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0>p</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>  &lt;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0>button</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0> @click</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>=</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#C98A7D77\"})\n  }\" data-v-8c9498c0>&quot;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#C98A7D\"})\n  }\" data-v-8c9498c0>count++</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#C98A7D77\"})\n  }\" data-v-8c9498c0>&quot;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0> :disabled</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>=</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#C98A7D77\"})\n  }\" data-v-8c9498c0>&quot;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#C98A7D\"})\n  }\" data-v-8c9498c0>!mounted</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#C98A7D77\"})\n  }\" data-v-8c9498c0>&quot;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&gt;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#DBD7CAEE\"})\n  }\" data-v-8c9498c0>${\n    _ssrInterpolate($setup.count)\n  }</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&lt;/</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0>button</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&lt;/</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0>p</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&lt;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0>script</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0>  export</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0> default</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#80A665\"})\n  }\" data-v-8c9498c0>    setup</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>()</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#CB7676\"})\n  }\" data-v-8c9498c0>      const</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0> count</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0> =</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0> Vue</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>.</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#80A665\"})\n  }\" data-v-8c9498c0>ref</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>(</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4C9A91\"})\n  }\" data-v-8c9498c0>0</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>);</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#CB7676\"})\n  }\" data-v-8c9498c0>      const</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0> mounted</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0> =</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0> Vue</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>.</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#80A665\"})\n  }\" data-v-8c9498c0>ref</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>(</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0>false</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>);</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0>      Vue</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>.</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#80A665\"})\n  }\" data-v-8c9498c0>onMounted</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>(()</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0> =&gt;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0>        mounted</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>.</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0>value</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0> =</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0> true</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>      });</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0>      return</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0> {</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#B8A965\"})\n  }\" data-v-8c9498c0> hello</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>:</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#C98A7D77\"})\n  }\" data-v-8c9498c0> &quot;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#C98A7D\"})\n  }\" data-v-8c9498c0>Hello, World</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#C98A7D77\"})\n  }\" data-v-8c9498c0>&quot;</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>,</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0> count</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>,</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#BD976A\"})\n  }\" data-v-8c9498c0> mounted</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0> };</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>    },</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>  };</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&lt;/</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#4D9375\"})\n  }\" data-v-8c9498c0>script</span><span style=\"${\n    _ssrRenderStyle({\"color\":\"#666666\"})\n  }\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0></span></code></pre><p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0>The server-side code first converts Markdown to HTML using <a href=\"https://www.npmjs.com/package/@vuepress/markdown\" data-v-8c9498c0><code data-v-8c9498c0>@vuepress/markdown</code></a>. It automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags.</li><li data-v-8c9498c0>The HTML is then parsed as a Vue template and compiled into <a href=\"https://v2.vuejs.org/v2/guide/render-function.html\" data-v-8c9498c0>render functions</a> using <a href=\"https://www.npmjs.com/package/vue-template-compiler\" data-v-8c9498c0><code data-v-8c9498c0>vue-template-compiler</code></a> as JavaScript source code.</li><li data-v-8c9498c0>The <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled using <a href=\"https://esbuild.github.io/\" data-v-8c9498c0>esbuild</a> into a JavaScript source code.</li><li data-v-8c9498c0>The resulting source codes are then used to assemble a Vue component. This happens both on the client and on the server. The server then renders a static HTML version of the component, and the client then hydrates it.</li></ul><figure slot=\"right\" data-v-8c9498c0><p data-v-8c9498c0><img src=\"https://static.dt.in.th/uploads/2022/07/24/vuecomp2.webp\" alt=\"\" data-v-8c9498c0></p><figcaption data-v-8c9498c0>The compilation process</figcaption></figure><hr data-v-8c9498c0><details data-v-8c9498c0><summary data-v-8c9498c0>Archive â€” How it works in the previous version of notes.dt.in.th (Nuxt-based)</summary><p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the contents API,</strong> when the Markdown file is parsed, <code data-v-8c9498c0>@vuepress/markdown</code> automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags. I assume that there will be only one <code data-v-8c9498c0>&lt;script&gt;</code> tag. If one is found, then the contents of the <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled down to ES6 + CommonJS using <a href=\"https://esbuild.github.io/\" data-v-8c9498c0>esbuild</a>. This compiled JavaScript is then returned over the wire.</p></li><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the Nuxt app,</strong> if a component module is included in the response, Nuxt will compile that code as part of the Vue component, on-the-fly, at runtime.</p></li></ul><p data-v-8c9498c0>This results in the following markup:</p><p data-v-8c9498c0><img src=\"https://static.dt.in.th/uploads/2020/12/11/journal-script-ssr.png\" alt=\"\" data-v-8c9498c0></p><p data-v-8c9498c0>For full changes, see the <a href=\"https://github.com/dtinth/notes.dt.in.th/pull/1/files\" data-v-8c9498c0>pull request</a>.</p></details><!--]-->`)\n}\n__sfc__.ssrRender = ssrRender\n__sfc__.__scopeId = \"data-v-8c9498c0\"\n__sfc__.__file = \"Note.vue\"\nexport default __sfc__",
    "clientEsm": "/* Analyzed bindings: {\n  \"hello\": \"setup-maybe-ref\",\n  \"count\": \"setup-maybe-ref\",\n  \"mounted\": \"setup-maybe-ref\"\n} */\n\nconst __sfc__ = {\n  setup() {\n    const count = Vue.ref(0)\n    const mounted = Vue.ref(false)\n    Vue.onMounted(() => {\n      mounted.value = true\n    })\n    return { hello: 'Hello, World', count, mounted }\n  }\n}\n;\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8c9498c0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createElementVNode(\"strong\", null, [\n    /*#__PURE__*/_createTextVNode(\"How about some interactivity inside a \"),\n    /*#__PURE__*/_createElementVNode(\"a\", { href: \"AboutNotes\" }, \"note\"),\n    /*#__PURE__*/_createTextVNode(\"?\")\n  ])\n], -1 /* HOISTED */))\nconst _hoisted_2 = [\"disabled\"]\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"...and here's the code that implements the above button:\", -1 /* HOISTED */))\nconst _hoisted_4 = {\n  class: \"shiki vitesse-dark\",\n  style: {\"background-color\":\"#121212\",\"color\":\"#dbd7caee\"},\n  tabindex: \"0\"\n}\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \"<\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#4D9375\"} }, \"p\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \">\")\n], -1 /* HOISTED */))\nconst _hoisted_6 = { class: \"line\" }\nconst _hoisted_7 = /*#__PURE__*/_createStaticVNode(\"<span style=\\\"color:#666666;\\\" data-v-8c9498c0>  &lt;</span><span style=\\\"color:#4D9375;\\\" data-v-8c9498c0>button</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> @click</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>=</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#C98A7D;\\\" data-v-8c9498c0>count++</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> :disabled</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>=</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#C98A7D;\\\" data-v-8c9498c0>!mounted</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>&gt;</span>\", 13)\nconst _hoisted_20 = { style: {\"color\":\"#DBD7CAEE\"} }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \"</\", -1 /* HOISTED */))\nconst _hoisted_22 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#4D9375\"} }, \"button\", -1 /* HOISTED */))\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \">\", -1 /* HOISTED */))\nconst _hoisted_24 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \"</\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#4D9375\"} }, \"p\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \">\")\n], -1 /* HOISTED */))\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, null, -1 /* HOISTED */))\nconst _hoisted_26 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \"<\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#4D9375\"} }, \"script\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \">\")\n], -1 /* HOISTED */))\nconst _hoisted_27 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#4D9375\"} }, \"  export\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#4D9375\"} }, \" default\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \" {\")\n], -1 /* HOISTED */))\nconst _hoisted_28 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#80A665\"} }, \"    setup\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \"()\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \" {\")\n], -1 /* HOISTED */))\nconst _hoisted_29 = /*#__PURE__*/_createStaticVNode(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#CB7676;\\\" data-v-8c9498c0>      const</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> count</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> =</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> Vue</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>.</span><span style=\\\"color:#80A665;\\\" data-v-8c9498c0>ref</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>(</span><span style=\\\"color:#4C9A91;\\\" data-v-8c9498c0>0</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>);</span></span>\", 1)\nconst _hoisted_30 = /*#__PURE__*/_createStaticVNode(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#CB7676;\\\" data-v-8c9498c0>      const</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> mounted</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> =</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> Vue</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>.</span><span style=\\\"color:#80A665;\\\" data-v-8c9498c0>ref</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>(</span><span style=\\\"color:#4D9375;\\\" data-v-8c9498c0>false</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>);</span></span>\", 1)\nconst _hoisted_31 = /*#__PURE__*/_createStaticVNode(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0>      Vue</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>.</span><span style=\\\"color:#80A665;\\\" data-v-8c9498c0>onMounted</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>(()</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> =&gt;</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> {</span></span>\", 1)\nconst _hoisted_32 = /*#__PURE__*/_createStaticVNode(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0>        mounted</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>.</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0>value</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> =</span><span style=\\\"color:#4D9375;\\\" data-v-8c9498c0> true</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>;</span></span>\", 1)\nconst _hoisted_33 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \"      });\")\n], -1 /* HOISTED */))\nconst _hoisted_34 = /*#__PURE__*/_createStaticVNode(\"<span class=\\\"line\\\" data-v-8c9498c0><span style=\\\"color:#4D9375;\\\" data-v-8c9498c0>      return</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> {</span><span style=\\\"color:#B8A965;\\\" data-v-8c9498c0> hello</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>:</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0> &quot;</span><span style=\\\"color:#C98A7D;\\\" data-v-8c9498c0>Hello, World</span><span style=\\\"color:#C98A7D77;\\\" data-v-8c9498c0>&quot;</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>,</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> count</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0>,</span><span style=\\\"color:#BD976A;\\\" data-v-8c9498c0> mounted</span><span style=\\\"color:#666666;\\\" data-v-8c9498c0> };</span></span>\", 1)\nconst _hoisted_35 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \"    },\")\n], -1 /* HOISTED */))\nconst _hoisted_36 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \"  };\")\n], -1 /* HOISTED */))\nconst _hoisted_37 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \"</\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#4D9375\"} }, \"script\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#666666\"} }, \">\")\n], -1 /* HOISTED */))\nconst _hoisted_38 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"line\" }, null, -1 /* HOISTED */))\nconst _hoisted_39 = /*#__PURE__*/_createStaticVNode(\"<p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0>The server-side code first converts Markdown to HTML using <a href=\\\"https://www.npmjs.com/package/@vuepress/markdown\\\" data-v-8c9498c0><code data-v-8c9498c0>@vuepress/markdown</code></a>. It automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags.</li><li data-v-8c9498c0>The HTML is then parsed as a Vue template and compiled into <a href=\\\"https://v2.vuejs.org/v2/guide/render-function.html\\\" data-v-8c9498c0>render functions</a> using <a href=\\\"https://www.npmjs.com/package/vue-template-compiler\\\" data-v-8c9498c0><code data-v-8c9498c0>vue-template-compiler</code></a> as JavaScript source code.</li><li data-v-8c9498c0>The <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled using <a href=\\\"https://esbuild.github.io/\\\" data-v-8c9498c0>esbuild</a> into a JavaScript source code.</li><li data-v-8c9498c0>The resulting source codes are then used to assemble a Vue component. This happens both on the client and on the server. The server then renders a static HTML version of the component, and the client then hydrates it.</li></ul><figure slot=\\\"right\\\" data-v-8c9498c0><p data-v-8c9498c0><img src=\\\"https://static.dt.in.th/uploads/2022/07/24/vuecomp2.webp\\\" alt=\\\"\\\" data-v-8c9498c0></p><figcaption data-v-8c9498c0>The compilation process</figcaption></figure><hr data-v-8c9498c0><details data-v-8c9498c0><summary data-v-8c9498c0>Archive â€” How it works in the previous version of notes.dt.in.th (Nuxt-based)</summary><p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the contents API,</strong> when the Markdown file is parsed, <code data-v-8c9498c0>@vuepress/markdown</code> automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags. I assume that there will be only one <code data-v-8c9498c0>&lt;script&gt;</code> tag. If one is found, then the contents of the <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled down to ES6 + CommonJS using <a href=\\\"https://esbuild.github.io/\\\" data-v-8c9498c0>esbuild</a>. This compiled JavaScript is then returned over the wire.</p></li><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the Nuxt app,</strong> if a component module is included in the response, Nuxt will compile that code as part of the Vue component, on-the-fly, at runtime.</p></li></ul><p data-v-8c9498c0>This results in the following markup:</p><p data-v-8c9498c0><img src=\\\"https://static.dt.in.th/uploads/2020/12/11/journal-script-ssr.png\\\" alt=\\\"\\\" data-v-8c9498c0></p><p data-v-8c9498c0>For full changes, see the <a href=\\\"https://github.com/dtinth/notes.dt.in.th/pull/1/files\\\" data-v-8c9498c0>pull request</a>.</p></details>\", 5)\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _createElementVNode(\"p\", null, [\n      _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = $event => ($setup.count++)),\n        disabled: !$setup.mounted\n      }, _toDisplayString($setup.count), 9 /* TEXT, PROPS */, _hoisted_2)\n    ]),\n    _hoisted_3,\n    _createElementVNode(\"pre\", _hoisted_4, [\n      _createElementVNode(\"code\", null, [\n        _hoisted_5,\n        _createTextVNode(\"\\n\"),\n        _createElementVNode(\"span\", _hoisted_6, [\n          _hoisted_7,\n          _createElementVNode(\"span\", _hoisted_20, _toDisplayString($setup.count), 1 /* TEXT */),\n          _hoisted_21,\n          _hoisted_22,\n          _hoisted_23\n        ]),\n        _createTextVNode(\"\\n\"),\n        _hoisted_24,\n        _createTextVNode(\"\\n\"),\n        _hoisted_25,\n        _createTextVNode(\"\\n\"),\n        _hoisted_26,\n        _createTextVNode(\"\\n\"),\n        _hoisted_27,\n        _createTextVNode(\"\\n\"),\n        _hoisted_28,\n        _createTextVNode(\"\\n\"),\n        _hoisted_29,\n        _createTextVNode(\"\\n\"),\n        _hoisted_30,\n        _createTextVNode(\"\\n\"),\n        _hoisted_31,\n        _createTextVNode(\"\\n\"),\n        _hoisted_32,\n        _createTextVNode(\"\\n\"),\n        _hoisted_33,\n        _createTextVNode(\"\\n\"),\n        _hoisted_34,\n        _createTextVNode(\"\\n\"),\n        _hoisted_35,\n        _createTextVNode(\"\\n\"),\n        _hoisted_36,\n        _createTextVNode(\"\\n\"),\n        _hoisted_37,\n        _createTextVNode(\"\\n\"),\n        _hoisted_38\n      ])\n    ]),\n    _hoisted_39\n  ], 64 /* STABLE_FRAGMENT */))\n}\n__sfc__.render = render\n__sfc__.__scopeId = \"data-v-8c9498c0\"\n__sfc__.__file = \"Note.vue\"\nexport default __sfc__",
    "ssrCjs": "/* Analyzed bindings: {\n  \"hello\": \"setup-maybe-ref\",\n  \"count\": \"setup-maybe-ref\",\n  \"mounted\": \"setup-maybe-ref\"\n} */ \"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nconst _serverrenderer = require(\"vue/server-renderer\");\nconst __sfc__ = {\n    setup () {\n        const count = Vue.ref(0);\n        const mounted = Vue.ref(false);\n        Vue.onMounted(()=>{\n            mounted.value = true;\n        });\n        return {\n            hello: 'Hello, World',\n            count,\n            mounted\n        };\n    }\n};\nfunction ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {\n    _push(`<!--[--><p data-v-8c9498c0><strong data-v-8c9498c0>How about some interactivity inside a <a href=\"AboutNotes\" data-v-8c9498c0>note</a>?</strong></p><p data-v-8c9498c0><button${(0, _serverrenderer.ssrIncludeBooleanAttr)(!$setup.mounted) ? \" disabled\" : \"\"} data-v-8c9498c0>${(0, _serverrenderer.ssrInterpolate)($setup.count)}</button></p><p data-v-8c9498c0>...and here&#39;s the code that implements the above button:</p><pre class=\"shiki vitesse-dark\" style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"background-color\": \"#121212\",\n        \"color\": \"#dbd7caee\"\n    })}\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&lt;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0>p</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>  &lt;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0>button</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0> @click</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>=</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#C98A7D77\"\n    })}\" data-v-8c9498c0>&quot;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#C98A7D\"\n    })}\" data-v-8c9498c0>count++</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#C98A7D77\"\n    })}\" data-v-8c9498c0>&quot;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0> :disabled</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>=</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#C98A7D77\"\n    })}\" data-v-8c9498c0>&quot;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#C98A7D\"\n    })}\" data-v-8c9498c0>!mounted</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#C98A7D77\"\n    })}\" data-v-8c9498c0>&quot;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&gt;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#DBD7CAEE\"\n    })}\" data-v-8c9498c0>${(0, _serverrenderer.ssrInterpolate)($setup.count)}</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&lt;/</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0>button</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&lt;/</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0>p</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&lt;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0>script</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0>  export</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0> default</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#80A665\"\n    })}\" data-v-8c9498c0>    setup</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>()</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#CB7676\"\n    })}\" data-v-8c9498c0>      const</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0> count</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0> =</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0> Vue</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>.</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#80A665\"\n    })}\" data-v-8c9498c0>ref</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>(</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4C9A91\"\n    })}\" data-v-8c9498c0>0</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>);</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#CB7676\"\n    })}\" data-v-8c9498c0>      const</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0> mounted</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0> =</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0> Vue</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>.</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#80A665\"\n    })}\" data-v-8c9498c0>ref</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>(</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0>false</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>);</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0>      Vue</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>.</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#80A665\"\n    })}\" data-v-8c9498c0>onMounted</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>(()</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0> =&gt;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0>        mounted</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>.</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0>value</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0> =</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0> true</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>      });</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0>      return</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0> {</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#B8A965\"\n    })}\" data-v-8c9498c0> hello</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>:</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#C98A7D77\"\n    })}\" data-v-8c9498c0> &quot;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#C98A7D\"\n    })}\" data-v-8c9498c0>Hello, World</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#C98A7D77\"\n    })}\" data-v-8c9498c0>&quot;</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>,</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0> count</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>,</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#BD976A\"\n    })}\" data-v-8c9498c0> mounted</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0> };</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>    },</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>  };</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&lt;/</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#4D9375\"\n    })}\" data-v-8c9498c0>script</span><span style=\"${(0, _serverrenderer.ssrRenderStyle)({\n        \"color\": \"#666666\"\n    })}\" data-v-8c9498c0>&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0></span></code></pre><p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0>The server-side code first converts Markdown to HTML using <a href=\"https://www.npmjs.com/package/@vuepress/markdown\" data-v-8c9498c0><code data-v-8c9498c0>@vuepress/markdown</code></a>. It automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags.</li><li data-v-8c9498c0>The HTML is then parsed as a Vue template and compiled into <a href=\"https://v2.vuejs.org/v2/guide/render-function.html\" data-v-8c9498c0>render functions</a> using <a href=\"https://www.npmjs.com/package/vue-template-compiler\" data-v-8c9498c0><code data-v-8c9498c0>vue-template-compiler</code></a> as JavaScript source code.</li><li data-v-8c9498c0>The <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled using <a href=\"https://esbuild.github.io/\" data-v-8c9498c0>esbuild</a> into a JavaScript source code.</li><li data-v-8c9498c0>The resulting source codes are then used to assemble a Vue component. This happens both on the client and on the server. The server then renders a static HTML version of the component, and the client then hydrates it.</li></ul><figure slot=\"right\" data-v-8c9498c0><p data-v-8c9498c0><img src=\"https://static.dt.in.th/uploads/2022/07/24/vuecomp2.webp\" alt=\"\" data-v-8c9498c0></p><figcaption data-v-8c9498c0>The compilation process</figcaption></figure><hr data-v-8c9498c0><details data-v-8c9498c0><summary data-v-8c9498c0>Archive â€” How it works in the previous version of notes.dt.in.th (Nuxt-based)</summary><p data-v-8c9498c0>Here&#39;s how it works:</p><ul data-v-8c9498c0><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the contents API,</strong> when the Markdown file is parsed, <code data-v-8c9498c0>@vuepress/markdown</code> automatically extracts out the <code data-v-8c9498c0>&lt;script&gt;</code> and <code data-v-8c9498c0>&lt;style&gt;</code> tags. I assume that there will be only one <code data-v-8c9498c0>&lt;script&gt;</code> tag. If one is found, then the contents of the <code data-v-8c9498c0>&lt;script&gt;</code> tag is compiled down to ES6 + CommonJS using <a href=\"https://esbuild.github.io/\" data-v-8c9498c0>esbuild</a>. This compiled JavaScript is then returned over the wire.</p></li><li data-v-8c9498c0><p data-v-8c9498c0><strong data-v-8c9498c0>In the Nuxt app,</strong> if a component module is included in the response, Nuxt will compile that code as part of the Vue component, on-the-fly, at runtime.</p></li></ul><p data-v-8c9498c0>This results in the following markup:</p><p data-v-8c9498c0><img src=\"https://static.dt.in.th/uploads/2020/12/11/journal-script-ssr.png\" alt=\"\" data-v-8c9498c0></p><p data-v-8c9498c0>For full changes, see the <a href=\"https://github.com/dtinth/notes.dt.in.th/pull/1/files\" data-v-8c9498c0>pull request</a>.</p></details><!--]-->`);\n}\n__sfc__.ssrRender = ssrRender;\n__sfc__.__scopeId = \"data-v-8c9498c0\";\n__sfc__.__file = \"Note.vue\";\nconst _default = __sfc__;\n"
  },
  "log": [
    [
      550.203708,
      "markdownToVue started"
    ],
    [
      552.019208,
      "matter extracted"
    ],
    [
      562.696083,
      "micromark processed"
    ],
    [
      979.462583,
      "rehype processed"
    ],
    [
      1010.338708,
      "unocss processed"
    ],
    [
      1074.643291,
      "vue compiler imported"
    ],
    [
      1100.398,
      "vue compiler finished"
    ],
    [
      1100.400875,
      "converting ssr"
    ],
    [
      1100.431916,
      "esmToCjs started"
    ],
    [
      1117.873791,
      "swc imported"
    ],
    [
      1143.978458,
      "swc processed"
    ],
    [
      1143.983416,
      "converting js"
    ],
    [
      1143.984916,
      "esmToCjs started"
    ],
    [
      1144.282458,
      "swc imported"
    ],
    [
      1144.850208,
      "swc processed"
    ],
    [
      1144.855166,
      "executing ssr"
    ],
    [
      1147.451875,
      "ssr executed"
    ]
  ]
}